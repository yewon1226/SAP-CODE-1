## <  핵심 개념 >
- **1) Upcast (Widening Cast)**
</br>

- **Upcast에서 실제 객체 기준 실행은 메서드(재정의)에만 해당**
- **변수는 무조건 참조 타입 기준으로만 접근 판단**
</br>
</br>

---

</br>

## < ABAP 클래스 정의 기본 구조 >
</br>

### 1) Upcast (Widening Cast)
- 자식 객체를 부모 타입 참조 변수에 담는 것
- 객체는 그대로고, 접근 가능한 메서드만 부모 기준으로 제한됨
```abap
*************** 클래스 ****************
CLASS <parent_class> DEFINITION.
  PUBLIC SECTION.
    METHODS <parent_method>.
ENDCLASS.

CLASS <child_class> DEFINITION
  INHERITING FROM <parent_class>.
  PUBLIC SECTION.
    METHODS <child_method>.
ENDCLASS.

*************** 구현 ****************
CLASS <parent_class> IMPLEMENTATION.
  METHOD <parent_method>.
  ENDMETHOD.
ENDCLASS.

CLASS <child_class> IMPLEMENTATION.
  METHOD <child_method>.
  ENDMETHOD.
ENDCLASS.

*************** 객체 생성 및 업캐스트 ****************
DATA: <parent_obj> TYPE REF TO <parent_class>,
      <child_obj>  TYPE REF TO <child_class>.

CREATE OBJECT <child_obj>.
<parent_obj> = <child_obj>.   " Upcast

*************** 사용 ****************
<parent_obj>-><parent_method>( ).
" ✔ parent 타입에 정의된 메서드라서 컴파일 통과
" ✔ 실제 객체는 child → child에서 재정의된 메서드 실행

<parent_obj>-><child_method>( ).
" ✘ parent 타입에는 child_method가 없음
" ✘ 컴파일 단계에서 호출 불가
" ✘ 실행 단계까지 가지도 못함
```
```abap
REPORT ZPROGB03_0037.

CLASS lcl_grandparent DEFINITION.
  PUBLIC SECTION.
  DATA: pa_char(10) TYPE C VALUE 'Hello~~'.
  METHODS: constructor IMPORTING iv_kimchi TYPE string,
           cook. "요리하기 메서드 추가
  PROTECTED SECTION. "할머니 김치는 가족(본인+자녀)만 공유하도록 함
  DATA: mv_kimchi TYPE string.
ENDCLASS.

CLASS lcl_grandparent IMPLEMENTATION.
  METHOD constructor.
      mv_kimchi = iv_kimchi.
  ENDMETHOD.

  METHOD cook.
    WRITE:/ '할머니 김치 투하: ', mv_kimchi.
  ENDMETHOD.
ENDCLASS.

**********************************************************************
CLASS lcl_parent DEFINITION INHERITING FROM lcl_grandparent. "상속
  PUBLIC SECTION.
    METHODS: constructor IMPORTING iv_kimchi TYPE string
                                   iv_meat TYPE string.
    METHODS: cook REDEFINITION. "상위 클래스로부터 상속받은 메서드 재정의
  PRIVATE SECTION.
    DATA: mv_meat TYPE string.
ENDCLASS.

CLASS lcl_parent IMPLEMENTATION.
  METHOD constructor.
    super->constructor( EXPORTING iv_kimchi = iv_kimchi ).
    mv_meat = iv_meat.
  ENDMETHOD.
  METHOD cook.
    super->cook( ).
    WRITE:/ '엄마 단골가게 고기 추가: ', mv_meat.
  ENDMETHOD.
ENDCLASS.

**********************************************************************
CLASS lcl_child DEFINITION INHERITING FROM lcl_parent. "상속
  PUBLIC SECTION.
    METHODS: constructor IMPORTING iv_kimchi TYPE string
                                   iv_meat TYPE string
                                   iv_topping TYPE string.
    METHODS: cook REDEFINITION. "상위 클래스로부터 상속받은 메서드 재정의
  PRIVATE SECTION.
    DATA: mv_topping TYPE string.
ENDCLASS.

CLASS lcl_child IMPLEMENTATION.
  METHOD constructor.
    super->constructor(
      iv_kimchi = iv_kimchi
      iv_meat   = iv_meat
    ).
    mv_topping = iv_topping.
  ENDMETHOD.
  METHOD cook.
    super->cook( ).
    WRITE:/ '나만의 토핑으로 마무리: ', mv_topping.
*    SKIP.
*    WRITE:/ mv_kimchi. 할머니 클래스의 protected 변수에 접근 가능
  ENDMETHOD.
ENDCLASS.

**********************************************************************
START-OF-SELECTION.
  DATA: go_child1 TYPE REF TO lcl_child,
        go_child2 TYPE REF TO lcl_child.
  DATA: gt_super TYPE TABLE OF REF TO lcl_grandparent,
        gs_super TYPE REF TO lcl_grandparent.

  CREATE OBJECT go_child1
         EXPORTING iv_kimchi = '3년된 묵은지'
                   iv_meat = '흑돼지 앞다리살'
                   iv_topping = '스팸/대파 듬뿍'.
  APPEND go_child1 TO gt_super.

  gs_super = go_child1. "upcast
  gs_super->cook( ). "자식 클래스의 재정의된 메서드가 실행됨
  SKIP 1.
  "여전히 부모 클래스의 변수에 접근 가능
  WRITE:/ '부모변수 PA_CHAR : ' && gs_super->pa_char.
```
