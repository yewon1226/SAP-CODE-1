## <  ν•µμ‹¬ κ°λ… >
- **1) Upcast (Widening Cast)**
</br>

- **Upcastμ—μ„ μ‹¤μ  κ°μ²΄ κΈ°μ¤€ μ‹¤ν–‰μ€ λ©”μ„λ“(μ¬μ •μ)μ—λ§ ν•΄λ‹Ή**
- **λ³€μλ” λ¬΄μ΅°κ±΄ μ°Έμ΅° νƒ€μ… κΈ°μ¤€μΌλ΅λ§ μ ‘κ·Ό νλ‹¨**
</br>
</br>

---

</br>

## < ABAP ν΄λμ¤ μ •μ κΈ°λ³Έ κµ¬μ΅° >
</br>

### 1) Upcast (Widening Cast)
- μμ‹ κ°μ²΄λ¥Ό λ¶€λ¨ νƒ€μ… μ°Έμ΅° λ³€μμ— λ‹΄λ” κ²ƒ
- κ°μ²΄λ” κ·Έλ€λ΅κ³ , μ ‘κ·Ό κ°€λ¥ν• λ©”μ„λ“λ§ λ¶€λ¨ κΈ°μ¤€μΌλ΅ μ ν•λ¨
```abap
*************** ν΄λμ¤ ****************
CLASS <parent_class> DEFINITION.
  PUBLIC SECTION.
    METHODS <parent_method>.
ENDCLASS.

CLASS <child_class> DEFINITION
  INHERITING FROM <parent_class>.
  PUBLIC SECTION.
    METHODS <child_method>.
ENDCLASS.

*************** κµ¬ν„ ****************
CLASS <parent_class> IMPLEMENTATION.
  METHOD <parent_method>.
  ENDMETHOD.
ENDCLASS.

CLASS <child_class> IMPLEMENTATION.
  METHOD <child_method>.
  ENDMETHOD.
ENDCLASS.

*************** κ°μ²΄ μƒμ„± λ° μ—…μΊμ¤νΈ ****************
DATA: <parent_obj> TYPE REF TO <parent_class>,
      <child_obj>  TYPE REF TO <child_class>.

CREATE OBJECT <child_obj>.
<parent_obj> = <child_obj>.   " Upcast

*************** μ‚¬μ© ****************
<parent_obj>-><parent_method>( ).
" β” parent νƒ€μ…μ— μ •μλ λ©”μ„λ“λΌμ„ μ»΄νμΌ ν†µκ³Ό
" β” μ‹¤μ  κ°μ²΄λ” child β†’ childμ—μ„ μ¬μ •μλ λ©”μ„λ“ μ‹¤ν–‰

<parent_obj>-><child_method>( ).
" β parent νƒ€μ…μ—λ” child_methodκ°€ μ—†μ
" β μ»΄νμΌ λ‹¨κ³„μ—μ„ νΈμ¶ λ¶κ°€
" β μ‹¤ν–‰ λ‹¨κ³„κΉμ§€ κ°€μ§€λ„ λ»ν•¨
```
```abap
REPORT ZPROGB03_0037.

CLASS lcl_grandparent DEFINITION.
  PUBLIC SECTION.
  DATA: pa_char(10) TYPE C VALUE 'Hello~~'.
  METHODS: constructor IMPORTING iv_kimchi TYPE string,
           cook. "μ”λ¦¬ν•κΈ° λ©”μ„λ“ μ¶”κ°€
  PROTECTED SECTION. "ν• λ¨Έλ‹ κΉ€μΉλ” κ°€μ΅±(λ³ΈμΈ+μλ…€)λ§ κ³µμ ν•λ„λ΅ ν•¨
  DATA: mv_kimchi TYPE string.
ENDCLASS.

CLASS lcl_grandparent IMPLEMENTATION.
  METHOD constructor.
      mv_kimchi = iv_kimchi.
  ENDMETHOD.

  METHOD cook.
    WRITE:/ 'ν• λ¨Έλ‹ κΉ€μΉ ν¬ν•: ', mv_kimchi.
  ENDMETHOD.
ENDCLASS.

**********************************************************************
CLASS lcl_parent DEFINITION INHERITING FROM lcl_grandparent. "μƒμ†
  PUBLIC SECTION.
    METHODS: constructor IMPORTING iv_kimchi TYPE string
                                   iv_meat TYPE string.
    METHODS: cook REDEFINITION. "μƒμ„ ν΄λμ¤λ΅λ¶€ν„° μƒμ†λ°›μ€ λ©”μ„λ“ μ¬μ •μ
  PRIVATE SECTION.
    DATA: mv_meat TYPE string.
ENDCLASS.

CLASS lcl_parent IMPLEMENTATION.
  METHOD constructor.
    super->constructor( EXPORTING iv_kimchi = iv_kimchi ).
    mv_meat = iv_meat.
  ENDMETHOD.
  METHOD cook.
    super->cook( ).
    WRITE:/ 'μ—„λ§ λ‹¨κ³¨κ°€κ² κ³ κΈ° μ¶”κ°€: ', mv_meat.
  ENDMETHOD.
ENDCLASS.

**********************************************************************
CLASS lcl_child DEFINITION INHERITING FROM lcl_parent. "μƒμ†
  PUBLIC SECTION.
    METHODS: constructor IMPORTING iv_kimchi TYPE string
                                   iv_meat TYPE string
                                   iv_topping TYPE string.
    METHODS: cook REDEFINITION. "μƒμ„ ν΄λμ¤λ΅λ¶€ν„° μƒμ†λ°›μ€ λ©”μ„λ“ μ¬μ •μ
  PRIVATE SECTION.
    DATA: mv_topping TYPE string.
ENDCLASS.

CLASS lcl_child IMPLEMENTATION.
  METHOD constructor.
    super->constructor(
      iv_kimchi = iv_kimchi
      iv_meat   = iv_meat
    ).
    mv_topping = iv_topping.
  ENDMETHOD.
  METHOD cook.
    super->cook( ).
    WRITE:/ 'λ‚λ§μ ν† ν•‘μΌλ΅ λ§λ¬΄λ¦¬: ', mv_topping.
*    SKIP.
*    WRITE:/ mv_kimchi. ν• λ¨Έλ‹ ν΄λμ¤μ protected λ³€μμ— μ ‘κ·Ό κ°€λ¥
  ENDMETHOD.
ENDCLASS.

**********************************************************************
START-OF-SELECTION.
  DATA: go_child1 TYPE REF TO lcl_child,
        go_child2 TYPE REF TO lcl_child.
  DATA: gt_super TYPE TABLE OF REF TO lcl_grandparent,
        gs_super TYPE REF TO lcl_grandparent.

  CREATE OBJECT go_child1
         EXPORTING iv_kimchi = '3λ…„λ λ¬µμ€μ§€'
                   iv_meat = 'ν‘λΌμ§€ μ•λ‹¤λ¦¬μ‚΄'
                   iv_topping = 'μ¤νΈ/λ€ν λ“¬λΏ'.
  APPEND go_child1 TO gt_super.

  gs_super = go_child1. "upcast
  gs_super->cook( ). "μμ‹ ν΄λμ¤μ μ¬μ •μλ λ©”μ„λ“κ°€ μ‹¤ν–‰λ¨
  SKIP 1.
  "μ—¬μ „ν λ¶€λ¨ ν΄λμ¤μ λ³€μμ— μ ‘κ·Ό κ°€λ¥
  WRITE:/ 'λ¶€λ¨λ³€μ PA_CHAR : ' && gs_super->pa_char.
```
</br>
</br>

### 2) Up-Cast κΈ°λ° λ‹¤ν•μ„± (λ¶€λ¨ μ°Έμ΅°λ¥Ό μ΄μ©ν• κ³µν†µ μ²λ¦¬)
- μμ‹ κ°μ²΄λ¥Ό λ¶€λ¨ νƒ€μ… μ°Έμ΅° λ³€μμ— λ‹΄μ•„ νΈμ¶ν•λ” κµ¬μ΅° β†’ Up-Cast
- νΈμ¶μ€ λ¶€λ¨ κΈ°μ¤€μ΄μ§€λ§, μ‹¤μ  μ‹¤ν–‰μ€ μμ‹μ—μ„ μ¬μ •μλ λ©”μ„λ“κ°€ μν–‰λ¨(λ‹¤ν•μ„±)
```abap
*************** λ¶€λ¨ ****************
CLASS <parent> DEFINITION.
  PUBLIC SECTION.
    METHODS display.
ENDCLASS.

*************** μμ‹ ****************
CLASS <child> DEFINITION INHERITING FROM <parent>.
  PUBLIC SECTION.
    METHODS display REDEFINITION.
ENDCLASS.

*************** START-OF-SELECTION ****************
DATA: <go_parent> TYPE REF TO <parent>,
      <go_child>  TYPE REF TO <child>.

START-OF-SELECTION.
CREATE OBJECT <go_child>.
<go_parent> = <go_child>.   " Upcast
<go_parent>->display( ).    " μμ‹ λ©”μ„λ“ μ‹¤ν–‰
```
```abap
REPORT  sapbc401_inh_s3.

*************** μμ‹ κ°μ²΄ μƒμ„± ****************
CREATE OBJECT go_passenger
  EXPORTING
    iv_name      = 'LH BERLIN'
    iv_planetype = '747-400'
    iv_seats     = 345.

CREATE OBJECT go_cargo
  EXPORTING
    iv_name      = 'US Hercules'
    iv_planetype = '747-200F'
    iv_cargo     = 533.

*************** Up-Cast (μμ‹ β†’ λ¶€λ¨ νƒ€μ…μΌλ΅ μ €μ¥) ****************
METHOD add_airplane.
  APPEND io_plane TO mt_airplanes.
* io_plane TYPE REF TO lcl_airplane
ENDMETHOD.

*************** λ¶€λ¨ μ°Έμ΅°λ΅ λ©”μ„λ“ νΈμ¶ (λ‹¤ν•μ„±) ****************
METHOD display_airplanes.
  DATA lo_plane TYPE REF TO lcl_airplane.

  LOOP AT mt_airplanes INTO lo_plane.
    lo_plane->display_attributes( ).
  ENDLOOP.
ENDMETHOD.
```
</br>
</br>

### 3) Down-Cast κΈ°λ° νΉμ • κ°μ²΄ μ ‘κ·Ό (Narrowing Cast + μμ™Έ μ²λ¦¬)
- λ¶€λ¨ μ°Έμ΅° ν…μ΄λΈ”μ— μ—¬λ¬ μμ‹ κ°μ²΄κ°€ μ„μ—¬ μμ
- λ°λ³µλ¬Έμ—μ„ ν•λ‚μ”© κΊΌλ‚΄ Downcast μ‹λ„
- μ‹¤μ  κ°μ²΄κ°€ ν•΄λ‹Ή μμ‹μΌ λ•λ§ μΊμ¤ν… μ„±κ³µ
- μ„±κ³µ μ‹ μμ‹ μ „μ© λ©”μ„λ“/μ†μ„± μ ‘κ·Ό
- μ‹¤ν¨ κ°€λ¥ β†’ TRYβ€“CATCH ν•„μ
```abap
*************** λ¶€λ¨ ****************
CLASS <parent> DEFINITION.
  PUBLIC SECTION.
    METHODS <common_method>.
ENDCLASS.

*************** μμ‹ ****************
CLASS <child> DEFINITION INHERITING FROM <parent>.
  PUBLIC SECTION.
    METHODS <child_method>.
ENDCLASS.

*************** μ»¨ν…μ΄λ„ ****************
CLASS <container> DEFINITION.
  PUBLIC SECTION.
    METHODS <get_specific>.
  PRIVATE SECTION.
    DATA <mt_objs> TYPE TABLE OF REF TO <parent>.
ENDCLASS.

*************** κµ¬ν„ ****************
CLASS <container> IMPLEMENTATION.
  METHOD <get_specific>.
    DATA: <lo_parent> TYPE REF TO <parent>,
          <lo_child>  TYPE REF TO <child>.

    LOOP AT <mt_objs> INTO <lo_parent>.
      TRY.
          <lo_child> ?= <lo_parent>.        " Downcast
          <lo_child>-><child_method>( ).    " μμ‹ μ „μ© μ ‘κ·Ό
        CATCH cx_sy_move_cast_error.
          " μμ‹ κ°μ²΄κ°€ μ•„λ‹λ©΄ λ¬΄μ‹
      ENDTRY.
    ENDLOOP.
  ENDMETHOD.
ENDCLASS.
```
```abap
REPORT  sapbc401_inh_s3_opt.

*************** λ¶€λ¨ ν΄λμ¤ ****************
CLASS lcl_airplane DEFINITION.
  PUBLIC SECTION.
    METHODS display_attributes.
ENDCLASS.

*************** μμ‹ ν΄λμ¤ (Downcast λ€μƒ) ****************
CLASS lcl_cargo_plane DEFINITION INHERITING FROM lcl_airplane.
  PUBLIC SECTION.
    METHODS get_cargo
      RETURNING VALUE(rv_cargo) TYPE s_plan_car.
  PRIVATE SECTION.
    DATA mv_cargo TYPE s_plan_car.
ENDCLASS.

CLASS lcl_cargo_plane IMPLEMENTATION.
  METHOD get_cargo.
    rv_cargo = mv_cargo.
  ENDMETHOD.
ENDCLASS.

*************** Downcasting λ°μƒ λ©”μ„λ“ ****************
METHOD get_max_cargo.
  DATA:
    lo_plane TYPE REF TO lcl_airplane,       " λ¶€λ¨ μ°Έμ΅°
    lo_cargo TYPE REF TO lcl_cargo_plane.    " μμ‹ μ°Έμ΅°

  LOOP AT mt_airplanes INTO lo_plane.
    TRY.
        lo_cargo ?= lo_plane.                " π”΄ Downcast ν•µμ‹¬

        IF rv_max_cargo < lo_cargo->get_cargo( ).
          rv_max_cargo = lo_cargo->get_cargo( ).
        ENDIF.

      CATCH cx_sy_move_cast_error.
*       cargo plane μ΄ μ•„λ‹λ©΄ λ¬΄μ‹
    ENDTRY.
  ENDLOOP.
ENDMETHOD.
```
</br>
</br>

### 4) μΈν„°νμ΄μ¤ + ALIAS + μΈν„°νμ΄μ¤ μ—…μΊμ¤νΈ λ‹¤ν•μ„±
- μΈν„°νμ΄μ¤ λ©”μ„λ“/μ†μ„±μ€ μ›λ `μΈν„°νμ΄μ¤~μ»΄ν¬λ„νΈ` ν•μ‹μΌλ΅ μ ‘κ·Ό
- ALIASλ¥Ό μ“°λ©΄ ν΄λμ¤ μ•μ—μ„ μ§§μ€ μ΄λ¦„μΌλ΅ μ¬μ •μ κ°€λ¥
- μ™Έλ¶€ νΈμ¶ μ‹ κ°€λ…μ„±β†‘, μΈν„°νμ΄μ¤ κµ¬μ΅°λ” κ·Έλ€λ΅ μ μ§€
- μΈν„°νμ΄μ¤ μ°Έμ΅° λ³€μλ΅ κ°μ²΄λ¥Ό λ°›λ” κ²ƒ = μΈν„°νμ΄μ¤ μ—…μΊμ¤νΈ
- μ—…μΊμ¤νΈ μ‹ μΈν„°νμ΄μ¤μ— μ •μλ λ©”μ„λ“/μ†μ„±λ§ μ ‘κ·Ό κ°€λ¥
- μΈν„°νμ΄μ¤ μ°Έμ΅° λ³€μλ΅ μ„λ΅ λ‹¤λ¥Έ ν΄λμ¤ κ°μ²΄λ¥Ό λ™μΌν•κ² μ²λ¦¬
- νΈμ¶μ€ μΈν„°νμ΄μ¤ κΈ°μ¤€, μ‹¤ν–‰μ€ κ° ν΄λμ¤ κµ¬ν„ λ©”μ„λ“λ΅ λ™μ‘(λ‹¤ν•μ„±)
```abap
*************** μΈν„°νμ΄μ¤ μ •μ ****************
INTERFACE <if_partner>.
  METHODS <display_partner>.
  DATA <gv_partner_id> TYPE n LENGTH 10.
ENDINTERFACE.

*************** ν΄λμ¤ μ •μ (μΈν„°νμ΄μ¤ + ALIAS) ****************
CLASS <lcl_rental> DEFINITION.
  PUBLIC SECTION.
    INTERFACES <if_partner>.
    ALIASES <display_partner1>
      FOR <if_partner>~<display_partner>.

  PRIVATE SECTION.
    ALIASES <gv_partner>
      FOR <if_partner>~<gv_partner_id>.
ENDCLASS.

*************** ν΄λμ¤ κµ¬ν„ ****************
CLASS <lcl_rental> IMPLEMENTATION.
  METHOD <if_partner>~<display_partner>.
    " μ‹¤μ  λ΅μ§
  ENDMETHOD.
ENDCLASS.

*************** START-OF-SELECTION ****************
DATA:
  <go_rental>  TYPE REF TO <lcl_rental>,
  <go_partner> TYPE REF TO <if_partner>.

CREATE OBJECT <go_rental>.

*************** μΈν„°νμ΄μ¤ μ—…μΊμ¤νΈ ****************
<go_partner> = <go_rental>.        " ν΄λμ¤ β†’ μΈν„°νμ΄μ¤ Up-Cast

*************** νΈμ¶ ****************
<go_partner>-><display_partner>( ).    " μΈν„°νμ΄μ¤ κΈ°μ¤€ νΈμ¶
" λλ”
<go_rental>-><display_partner1>( ).    " ALIASλ΅ κ°„λ‹¨ νΈμ¶


***************************************************************
* Figure 90: μΈν„°νμ΄μ¤ μ°Έμ΅° κΈ°λ° λ‹¤ν•μ„± (Generic Access)
***************************************************************

*************** ννΈλ„ λ©λ΅μ„ μΈν„°νμ΄μ¤λ΅ κ³µν†µ μ²λ¦¬ ****************
METHOD display_agency_partners.

  DATA lo_partner TYPE REF TO <if_partner>.   " μΈν„°νμ΄μ¤ μ°Έμ΅°

  LOOP AT mt_partners INTO lo_partner.
    lo_partner-><display_partner>( ).        " μΈν„°νμ΄μ¤ κΈ°μ¤€ νΈμ¶
  ENDLOOP.

ENDMETHOD.

*************** κ° ν΄λμ¤λ³„ μΈν„°νμ΄μ¤ κµ¬ν„ ****************
CLASS <lcl_hotel> IMPLEMENTATION.
  METHOD <if_partner>~<display_partner>.
    display_hotel_attributes( ).
  ENDMETHOD.
ENDCLASS.

CLASS <lcl_rental> IMPLEMENTATION.
  METHOD <if_partner>~<display_partner>.
    display_rental_data( ).
  ENDMETHOD.
ENDCLASS.

CLASS <lcl_carrier> IMPLEMENTATION.
  METHOD <if_partner>~<display_partner>.
    display_attributes( ).
  ENDMETHOD.
ENDCLASS.
```
