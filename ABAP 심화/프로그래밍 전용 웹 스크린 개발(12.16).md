## < Icon Field >
- SAP에서 제공하는 아이콘을 저장하기 위한 데이터 타입
```abap
DATA: <icon_field> TYPE ICONS-TEXT.
```
```abap
DATA: iconfield1 TYPE ICONS-TEXT,
      iconfield2 TYPE ICONS-TEXT.
```
</br>
</br>
</br>


### < `ICON_CREATE` 함수 불러오기 >
- `Pattern` 을 통해 가져오기
  
<img width="622" height="391" alt="image" src="https://github.com/user-attachments/assets/ba885de6-4761-440d-bf23-c890d700720d" />

</br>
</br>
</br>
</br>

### < Icon Field 를 이용한  예제 >
</br>

**1) `Icon` 이용한 Layout 설정**

<img width="541" height="500" alt="image" src="https://github.com/user-attachments/assets/93017b3d-facf-40a3-806e-7aa830caa00a" />
</br>
</br>
</br>

**2) 100 Screen 모듈 생성**
```abap
PROCESS BEFORE OUTPUT.
 MODULE STATUS_0100.
 MODULE SET_ICONS.
 MODULE CLEAR_OK_CODE.
*
PROCESS AFTER INPUT.
 MODULE USER_COMMAND_0100.
```
</br>
</br>

**3) `TOP` 모듈 생성**
```abap
*&---------------------------------------------------------------------*
*& Include MZB03004_TOP                             - Module Pool      SAPMZB03004
*&---------------------------------------------------------------------*
PROGRAM SAPMZB03004.

DATA: gs_flight TYPE sflight.
DATA: OK_CODE TYPE sy-ucomm.

DATA: gv_button TYPE I,
      ICONFIELD1 TYPE ICONS-TEXT,
      ICONFIELD2 TYPE ICONS-TEXT.
```
</br>
</br>

**4) `F01` 모듈 생성**
```abap
*&---------------------------------------------------------------------*
*& Include          MZB03004_F01
*&---------------------------------------------------------------------*


FORM set_icon USING icon_name
              CHANGING icon_result.
  CALL FUNCTION 'ICON_CREATE'
    EXPORTING
      name = icon_name
    IMPORTING
      RESULT                      = icon_result
    EXCEPTIONS
      ICON_NOT_FOUND              = 1
      OUTPUTFIELD_TOO_SHORT       = 2
      OTHERS                      = 3
    .
  IF sy-subrc <> 0.
    MESSAGE 'Error' TYPE 'E'.
  ENDIF.
ENDFORM.
```
</br>
</br>

**5) `PAI` 모듈 생성**
```abap
*&---------------------------------------------------------------------*
*& Include          MZB03004_I01
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&      Module  USER_COMMAND_0100  INPUT
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
MODULE user_command_0100 INPUT.
  CASE OK_CODE.
    WHEN 'BTN01'.
      IF gv_button = 1.
        gv_button = 0.
      ELSE.
        gv_button = 1.
      ENDIF.
    WHEN 'ICON'.
      IF gv_button = 1.
        gv_button = 0.
      ELSE.
        gv_button = 1.
      ENDIF.
    WHEN 'BACK'.
      LEAVE TO SCREEN 0.
    WHEN 'EXIT' OR 'CANCEL'.
      LEAVE PROGRAM.
    WHEN 'MOVE'.
      SET SCREEN 200.
      LEAVE SCREEN.
      " LEAVE TO SCREEN 200. 과 동일
    WHEN 'REMARK'.
*      MESSAGE 'Remark 메뉴 선택' TYPE 'I'.
      CALL SCREEN 110
      STARTING AT 5 5
      ENDING AT 50 10.
    WHEN OTHERS.
  ENDCASE.

ENDMODULE.
*&---------------------------------------------------------------------*
*&      Module  USER_COMMAND_0110  INPUT
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
MODULE user_command_0110 INPUT.
  CASE OK_CODE.
    WHEN 'OK'.
      MESSAGE 'OK 클릭' TYPE 'I'.
    WHEN 'CLOSE'.
      MESSAGE 'CLOSE 클릭' TYPE 'I'.
    WHEN 'DISP'.
      MESSAGE 'DISP 클릭' TYPE 'I'.
    WHEN OTHERS.
  ENDCASE.
ENDMODULE.
```
</br>
</br>

**6) `PBO` 모듈 생성**
```abap
*&---------------------------------------------------------------------*
*& Include          MZB03004_O01
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*& Module STATUS_0100 OUTPUT
*&---------------------------------------------------------------------*
*&
*&---------------------------------------------------------------------*
MODULE status_0100 OUTPUT.
 SET PF-STATUS 'S100'.
 SET TITLEBAR 'T100' WITH sy-dynnr.
ENDMODULE.
*&---------------------------------------------------------------------*
*& Module CLEAR_OK_CODE OUTPUT
*&---------------------------------------------------------------------*
*&
*&---------------------------------------------------------------------*
MODULE clear_ok_code OUTPUT.
  CLEAR: OK_CODE.
ENDMODULE.
*&---------------------------------------------------------------------*
*& Module STATUS_0200 OUTPUT
*&---------------------------------------------------------------------*
*&
*&---------------------------------------------------------------------*
MODULE status_0200 OUTPUT.
 SET PF-STATUS 'S200'.
 SET TITLEBAR 'T100' WITH sy-dynnr.
ENDMODULE.
*&---------------------------------------------------------------------*
*& Module STATUS_0110 OUTPUT
*&---------------------------------------------------------------------*
*&
*&---------------------------------------------------------------------*
MODULE status_0110 OUTPUT.
 SET PF-STATUS 'S110'.
 SET TITLEBAR 'T100' WITH sy-dynnr.
ENDMODULE.
*&---------------------------------------------------------------------*
*& Module SET_ICONS OUTPUT
*&---------------------------------------------------------------------*
*&
*&---------------------------------------------------------------------*
MODULE set_icons OUTPUT.

  PERFORM set_icon USING 'ICON_CHANGE' CHANGING ICONFIELD2.

  IF gv_button = 1.
    PERFORM set_icon USING 'ICON_SYSTEM_OKAY' CHANGING ICONFIELD1.
  ELSE.
    PERFORM set_icon USING 'ICON_DISPLAY' CHANGING ICONFIELD1.
  ENDIF.

ENDMODULE.
```
</br>
</br>

**7) 결과 확인**

<img width="538" height="443" alt="image" src="https://github.com/user-attachments/assets/ed54eb70-b443-4760-a6f8-5a003bf65f0e" />

</br>
</br>
</br>
</br>

---

</br>

## < 스크린 인터페이스(UI) 구성 기능 >
</br>

### 1) 드롭다운
- `Listbox` (드롭다운) = 여러 값 중 하나를 선택
</br>

- `Listbox with key` 선택 시
  
<img width="581" height="411" alt="image" src="https://github.com/user-attachments/assets/b2fad37b-7386-42c8-8728-9c2f080e2044" />
</br>
</br>

<img width="540" height="457" alt="image" src="https://github.com/user-attachments/assets/02045538-3903-4b1e-a475-98ac10ddd584" />

</br>
</br>

- `Listbox` 선택 시
<img width="575" height="448" alt="image" src="https://github.com/user-attachments/assets/d07b66a3-b33f-4635-802f-d2377f769e15" />
</br>
</br>

<img width="531" height="460" alt="image" src="https://github.com/user-attachments/assets/ff0a7dda-af17-4df5-b638-82cfe09cf818" />

</br>
</br>
</br>
</br>

### 2) 라디오버튼 및 체크박스 ( Radio button / Check box )

- 라디오 버튼끼리 그룹 지정 가능
- 그룹 지정시 라디오버튼을 그룹 중 하나만 선택 가능하게 됨
  
<img width="1057" height="656" alt="image" src="https://github.com/user-attachments/assets/5e908ecf-ff2d-4cb0-983f-365de9f523f0" />
</br>
</br>

- 라디오 버튼끼리 그룹 지정 시 하나만 펑션코드 설정하면 됨
<img width="696" height="356" alt="image" src="https://github.com/user-attachments/assets/d7e18577-96db-4a89-8d98-4e2f119d5dd2" />

</br>
</br>
</br>
</br>

### 3) 버튼의 아이콘 지정
- 버튼에 아이콘을 같이 띄울 수 있음
<img width="699" height="434" alt="image" src="https://github.com/user-attachments/assets/ec5b76f3-e4e2-413f-94d2-9006dc726313" />

</br>
</br>
</br>
</br>

---

</br>

## < 실습 코드 >

### 실습 1
</br>

- 문제

<img width="453" height="294" alt="image" src="https://github.com/user-attachments/assets/343c3b1a-33c2-4845-9ab1-faaf80c25e02" />
</br>
</br>
</br>
</br>

**1) Screen 100 `Layout` 설정**
- `Foreign Key Check` 해제해야 오류 Message 가 안뜸
  
<img width="550" height="506" alt="image" src="https://github.com/user-attachments/assets/d4b1fba2-bbd3-4d9f-93d9-35b6a8e85b0c" />
</br>
</br>
</br>
</br>

**2) `TOP` 모듈 생성**
```abap
*&---------------------------------------------------------------------*
*& Include MZPRACTICE04B03_TOP                      - Module Pool      SAPMZPRACTICE04B03
*&---------------------------------------------------------------------*
PROGRAM SAPMZPRACTICE04B03.

TABLES: SDYN_CONN.

DATA: OK_CODE TYPE sy-ucomm,
      ICONFIELD01 TYPE ICONS-TEXT,
      gs_spfli TYPE SPFLI,
      gv_subrc TYPE I.
```
</br>
</br>

**3) `F01` 모듈 생성**
```abap
*&---------------------------------------------------------------------*
*& Include          MZPRACTICE04B03_F01
*&---------------------------------------------------------------------*

FORM set_icons USING icon_name CHANGING icon_result.
  CALL FUNCTION 'ICON_CREATE'
    EXPORTING
      name                        = icon_name
    IMPORTING
      RESULT                      = icon_result
    EXCEPTIONS
      ICON_NOT_FOUND              = 1
      OUTPUTFIELD_TOO_SHORT       = 2
      OTHERS                      = 3
             .
    IF sy-subrc <> 0.
      MESSAGE 'Error' TYPE 'E'.
    ENDIF.
ENDFORM.
```
</br>
</br>

**4) `PAI` 모듈 생성**
```abap
*&---------------------------------------------------------------------*
*& Include          MZPRACTICE04B03_I01
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&      Module  USER_COMMAND_0100  INPUT
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
MODULE user_command_0100 INPUT.
  IF OK_CODE = 'BTN01'.
    SELECT SINGLE * FROM SPFLI
      INTO CORRESPONDING FIELDS OF gs_spfli
      WHERE carrid = SDYN_CONN-carrid
        AND connid = SDYN_CONN-connid.
    IF sy-subrc <> 0.
      gv_subrc = 4.
    ELSE.
      gv_subrc = 1.
    ENDIF.
  ENDIF.
ENDMODULE.
```
</br>
</br>

**5) `PBO` 모듈 생성**
```abap
*&---------------------------------------------------------------------*
*& Include          MZPRACTICE04B03_O01
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*& Module STATUS_0100 OUTPUT
*&---------------------------------------------------------------------*
*&
*&---------------------------------------------------------------------*
MODULE status_0100 OUTPUT.
  IF gv_subrc = 4.
    PERFORM set_icons USING 'ICON_LED_RED' CHANGING ICONFIELD01.
  ELSEIF gv_subrc = 1.
    PERFORM set_icons USING 'ICON_LED_GREEN' CHANGING ICONFIELD01.
  ENDIF.
ENDMODULE.
*&---------------------------------------------------------------------*
*& Module CLEAR_OK_CODE OUTPUT
*&---------------------------------------------------------------------*
*&
*&---------------------------------------------------------------------*
MODULE clear_ok_code OUTPUT.
  CLEAR: OK_CODE.
ENDMODULE.
```
</br>
</br>

**6) 결과 확인**

<img width="314" height="284" alt="image" src="https://github.com/user-attachments/assets/9cc57410-24da-4d26-a7b8-de86f9cbafa9" />
</br>
</br>
</br>
</br>

### 실습 2
- 라디오버튼 활용 실습
- 타이틀 변경 실습 (titlebar)


**1) Screen 100 `Layout` 설정**
- screen 100 `Layout` 설정
<img width="738" height="307" alt="image" src="https://github.com/user-attachments/assets/17c29bf5-c52d-48cb-a710-43ddc3b44549" />
</br>
</br>
