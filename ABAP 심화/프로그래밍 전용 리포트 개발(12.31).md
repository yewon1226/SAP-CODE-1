## <  핵심 개념 >
</br>

- **1) ALV 표준 툴바 버튼 제어**
- **2) ALV Field Catalog**
</br>

- **SELECT-OPTIONS는 `Selection Screen` 에서만 가능**

</br>
</br>

---

</br>

## < ABAP 객체 생성 기본 문법 >
</br>

### 1) ALV Grid 이벤트 정리 (`CL_GUI_ALV_GRID`)
- ALV 화면에서 발생하는 사용자 동작을 처리
- `CL_GUI_ALV_GRID` : ALV Grid 이벤트를 제공하는 클래스
</br>
</br>

**< ALV Grid 이벤트 / 파라미터 >**
- 이벤트: 언제 발생했는가
- 파라미터: 발생했을 때 어떤 정보가 넘어오는가

| 이벤트 | 설명 |
|--------|------|
| `DOUBLE_CLICK` | 셀을 더블클릭했을 때 발생 |
| `PRINT_TOP_OF_PAGE` | 출력 시 페이지 상단 처리 |
| `USER_COMMAND` | ALV 버튼 클릭 시 발생 |
| `TOOLBAR` | ALV 툴바 생성 시 발생 |
  
| 파라미터 | 설명 |
|----------|------|
| `ES_ROW_NO` | 더블클릭한 행 번호 |
| `E_COLUMN` | 더블클릭한 컬럼명 |
| `E_UCOMM` | 눌린 버튼의 Function Code |
| `E_OBJECT` | 툴바 버튼 추가/제어 객체 |
| `E_INTERACTIVE` | 인터랙티브 ALV 여부 |
</br>
</br>

**1) CLASS-METHODS (정적 메서드)**
- 객체 생성 없이 클래스명으로 바로 호출
- 공통 로직, 이벤트 핸들러에 자주 사용
- 인스턴스 속성 사용 불가

**2) METHODS (인스턴스 메서드)**
- 객체 생성(CREATE OBJECT) 후에만 호출
- 객체별 인스턴스 속성 사용 가능
- 객체 상태(속성)를 사용하는 로직에 사용
</br>
</br>

- `CLASS-METHODS` : 정적(static) 메서드,  `METHODS` : 인스턴스 메서드
- `<handler_class>` : 이벤트 핸들러 클래스명
- `<handler_method>` : 이벤트 처리 메소드명
- `<event_name>` : 발생 이벤트명
- `<event_class>` : 이벤트를 가진 클래스
- `<param_1>, <param_2>` : 이벤트 파라미터
```abap
*************** C01 ****************
CLASS <handler_class> DEFINITION.
  [PUBLIC | PROTECTED | PRIVATE] SECTION.
    [CLASS-]METHODS <handler_method>
      FOR EVENT <event_name> OF <event_class>
      IMPORTING
        <param_1>
        <param_2>
        sender.
ENDCLASS.

CLASS <handler_class> IMPLEMENTATION.
  METHOD <handler_method>.
  ENDMETHOD.
ENDCLASS.

*************** PBO ****************
SET HANDLER <handler_class>=><handler_method> FOR <event_object>.

CALL METHOD <event_object>->set_table_for_first_display
  EXPORTING
    i_structure_name = '<DDIC 구조>'
  CHANGING
    it_outtab        = <itab>
```
- `SENDER` → 이벤트를 발생시킨 객체(오브젝트) 참조
```abap
*************** C01 ****************
CLASS lcl_event_handler DEFINITION.
  PUBLIC SECTION.
  CLASS-METHODS: ON_DOUBLE_CLICK
    FOR EVENT DOUBLE_CLICK OF CL_GUI_ALV_GRID
    IMPORTING ES_ROW_NO E_COLUMN SENDER.
  " CL_GUI_ALV_GRID 클래스의 더블클릭 이벤트가 발생하면
  " ON_DOUBLE_CLICK 이라는 메서드를 실행하겠다
ENDCLASS.

CLASS lcl_event_handler IMPLEMENTATION.
  "더블클릭 이벤트의 메서드 구현
  METHOD ON_DOUBLE_CLICK.
    IF SENDER = GO_ALV.
      MESSAGE I004(ZMCB03) WITH ES_ROW_NO-row_id
                                E_COLUMN-fieldname.
    ENDIF.
  ENDMETHOD.
ENDCLASS.

*************** PBO ****************
SET HANDLER lcl_event_handler=>on_double_click FOR go_alv.

CALL METHOD go_alv->set_table_for_first_display
  EXPORTING
    i_structure_name     = 'SBOOK'
  CHANGING
    it_outtab            = gt_data
```
