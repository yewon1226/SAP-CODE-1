# ABAP 모듈화(Modularization)
- 코드를 따로 만들어 놓고 필요할 때 호출해서 쓰는 것
- 가독성 ↑, 재사용성 ↑, 유지보수 ↑
</br>

**1) Local Modularization (로컬 모듈화)**
- 현재 프로그램 안에서만 사용 가능, 재사용성 낮음
- Subroutine (FORM), Local Class

**2) Global Modularization (전역 모듈화)**
- SAP 전체 프로그램이 공용으로 사용 가능, 어디서든 호출 가능, 재사용성 매우 좋음.
- Function Group / Function Module, Global Class (SE24) / Method
</br>

### 데이터 캡슐화
- 객체 내부 데이터를 숨기고(PRIVATE) 외부에서는 메서드(PUBLIC)로만 접근하도록 제한하는 것
- 데이터 보호 + 잘못된 접근 방지를 위한 객체지향의 기본 원칙
</br>

**1) Subroutine (FORM … ENDFORM)**
- 로컬 모듈화 방식: 같은 프로그램 안에서만 호출 가능
- 글로벌 변수 사용 가능하지만 최소화하여 독립적·재사용 가능하게 작성
- 파라미터
  - `Formal Parameter` : 서브루틴/함수 선언 시 정의되는 변수
  - `Actual Parameter` : 호출 시 전달되는 값
- 호출 방식
  - `CALL BY VALUE` : actual parameter의 값만 전달
  - `CALL BY VALUE AND RESULT` : 값 전달 받고, 결과값 반환
  - `CALL BY REFERENCE` : 메모리 주소 공유
```abap
PERFORM <subroutine_name> [USING <param1> <param2> ...].    " 호출부

FORM <subroutine_name> [USING <param1> <param2> ...].       " 선언부
  " 처리 로직
ENDFORM.
```
</br>


</br>
</br>
</br>

---

## < ABAP 추가적인 문법 >
</br>

**1) ULINE**
- 화면에 ————— (라인) 을 출력하는 명령
- WRITE 없이 단독으로 사용 가능
```abap
ULINE.
```
</br>

**2) WRITE: 숫자(숫자) → 출력 위치 + 필드 길이 지정**
```abap
WRITE: position(length) <값>.
```
```abap
WRITE: 5(10) pa_num, '단 :'.    " 5(10) → 화면 5번째 칼럼부터 10칸 공간 확보
```
</br>

---


## < 실습 코드 >
- 실습 1
```abap
PARAMETERS pa_num TYPE I.
DATA gv_result TYPE I.

IF ( pa_num <= 1 ).
  MESSAGE '2 이상을 입력하세요' TYPE 'E'.
ELSEIF ( pa_num >= 10 ).
  MESSAGE '9 이하를 입력하세요' TYPE 'E'.
ELSE.
  DO 9 TIMES.
    gv_result = pa_num * sy-index.
    WRITE:/ pa_num, ' * ', sy-index, ' = ', gv_result.
  ENDDO.
ENDIF.
```
```abap
PARAMETERS: pa_num TYPE I.
DATA: gv_result TYPE I.

IF pa_num < 2 OR pa_num > 9.
  MESSAGE '2 이상 9 이하의 숫자를 입력하세요.' TYPE 'I'.
  ELSE.
    WRITE: 5(10) pa_num, '단 :'.
    ULINE.

    DO 9 TIMES.
      gv_result = pa_num * sy-index.
      WRITE:
        10(2) pa_num,
        12(2) '*',
        14(2) sy-index,
        16(2) '=',
        18(2) gv_result.
      NEW-LINE.
    ENDDO.
ENDIF.
```
