# < 멘토멘티 정리>
</br>

## 1) Controller 안에서의 this 정리 
</br>

### 1) `.controller.js` 파일 내부에서의 `this`
- 현재 View를 제어하고 있는 컨트롤러 자기 자신
</br>

### 2) `this.getView()`
- 내(컨트롤러)가 관리하는 현재 화면(View) 가져오기. 특정 화면의 컨트롤 접근할 때 사용.
```html
this.getView().byId("idInput")
```
</br>

### 3) success 함수 안에서의 this

- 바로 실행되는 함수가 아니라 나중에 서버에서 데이터가 오면 그 때 실행되는 함수
- 그래서 이 함수가 실행될 때 this가 뭐였는지 잊어버림
- 해결방안
```java
// 1. let that = this => 미리 this를 복사해두기
let that = this;
success: function() {
   that.getView();
}

// 2. .bind(this) => success 실행 시 this를 강제로 현재 컨트롤러에 묶음
success: function() {
   this.getView();
}.bind(this)
```
</br>
</br>
</br>
</br>

## 2) `getView()` vs `getOwnerComponent()` 
</br>

### 1) `this.getView()`
- 컨트롤러가 관리하는 특정 화면에 접근할 때 사용
</br>

### 2) `this.getOwnerComponent()`
- 프로젝트 전체를 관리하는 Component.js 접근
- 모델, 라우터 등 접근 가능
```java
this.getOwnerComponent().getModel()
this.getOwnerComponent().getRouter()
```
- `this.getView().getRouter()` : View에는 라우터를 직접 가져오는 기능이 없음
- 다른 View의 컨트롤 접근 불가능 → 모델과 바인딩되지 않은 버튼, 입력창 등은 접근 불가
</br>
</br>
</br>
</br>

## 3) `ui.table` vs `m.table` 
</br>

### 1) `sap.m.Table`
- 데이터 양이 아주 많지 않을 때(약 100건 내외) 사용
- 선택된 행 자체(객체)를 바로 가져옴 (Item 기반 접근)
</br>

**1. 테이블 ID(`this.byId`)로 직접 접근할 때**
```java
// [1] 가장 표준 (선택된 단일 아이템에서 데이터 추출)
let oData = this.byId("idMobileTable").getSelectedItem().getBindingContext().getObject();

// [2] 선택된 모든 아이템 배열 중 첫 번째[0]에서 추출
let oData = this.byId("idMobileTable").getSelectedItems()[0].getBindingContext().getObject();

// [3] 모델과 경로(Path)를 조합해서 모델에서 직접 읽기
let oTable = this.byId("idMobileTable");
let sPath = oTable.getSelectedItem().getBindingContext().getPath();
let oData = oTable.getModel().getProperty(sPath);
```

**2. 이벤트(`selectionChange`)의 oEvent를 활용할 때**
```java
// [4] 파라미터에서 선택된 아이템(listItem)을 바로 꺼내기
let oData = oEvent.getParameter("listItem").getBindingContext().getObject();

// [5] 이벤트 소스(테이블 자신)의 '선택된 아이템' 함수로 가져오기
let oData = oEvent.getSource().getSelectedItem().getBindingContext().getObject();

// [6] 파라미터 묶음(getParameters)을 통해 아이템에 접근
let oData = oEvent.getParameters().listItem.getBindingContext().getObject();
```

**3. 행(Row) 내부에 심어둔 버튼을 눌렀을 때**
```java
// [7] 버튼의 바인딩 컨텍스트에서 바로 데이터 추출 (가장 많이 씀)
let oData = oEvent.getSource().getBindingContext().getObject();

// [8] 버튼의 부모(ColumnListItem)를 찾아가서 데이터 추출
let oData = oEvent.getSource().getParent().getBindingContext().getObject();

// [9] 버튼이 연결된 모델에서 경로(Path) 정보를 사용하여 추출
let oBtn = oEvent.getSource();
let oData = oBtn.getModel().getProperty(oBtn.getBindingContext().getPath());
```
</br>

**- xml 파일에서의 속성 정리**
```html
<m:Table
    id="idTable"

    width="100%"                    <!-- 테이블 전체 너비 -->
    inset="false"                   <!-- 바깥 여백 여부 -->
    backgroundDesign="Solid"        <!-- 배경 스타일 -->

    headerText="상품목록"            <!-- 테이블 상단 제목 -->
    footerText="총 100건"            <!-- 하단 텍스트 -->

    mode="SingleSelect"             <!-- 선택 모드 -->
                                       <!-- None -->
                                       <!-- SingleSelect -->
                                       <!-- SingleSelectLeft -->
                                       <!-- MultiSelect -->
                                       <!-- Delete -->

    includeItemInSelection="true"   <!-- 행 전체 클릭 시 선택 여부 -->

    growing="true"                  <!-- 점진적 로딩 -->
    growingThreshold="20"           <!-- 한번에 가져올 데이터 개수 -->
    growingScrollToLoad="true"      <!-- 스크롤 시 자동 로딩 -->
    growingTriggerText="더보기"      <!-- 버튼 텍스트 -->

    showSeparators="All"            <!-- 구분선 표시 (All, Inner, None) -->

    sticky="ColumnHeaders,HeaderToolbar" <!-- 헤더 고정 -->

    noDataText="데이터 없음"         <!-- 데이터 없을 때 표시 문구 -->

    alternateRowColors="true"       <!-- 줄무늬 배경 -->

    busyIndicatorDelay="0"          <!-- 로딩 표시 지연시간 -->

    items="{
        path: '/ProductCollection',
        sorter: {
            path: 'Name',
            descending: false
        },
        filters: [
            { path: 'Category', operator: 'EQ', value1: 'A' }
        ]
    }"

    selectionChange="onSelectionChange"   <!-- 행 선택 시 이벤트 -->
    itemPress="onItemPress"               <!-- 행 클릭 이벤트 -->
    delete="onDelete"                     <!-- Delete 모드일 때 삭제 이벤트 -->
    updateFinished="onUpdateFinished"     <!-- 데이터 바인딩 완료 후 -->
>
```
```html
<m:Column
    width="200px"              <!-- 컬럼 너비 -->
    minScreenWidth="Tablet"    <!-- 반응형 최소 화면 -->
    demandPopin="true"         <!-- 작은 화면 시 아래로 이동 -->
    hAlign="Center"            <!-- 정렬 -->
    visible="true"             <!-- 표시 여부 -->
>
```
```html
<m:ColumnListItem
    type="Active"          <!-- Active / Navigation / Detail / Inactive -->
    selected="false"       <!-- 기본 선택 여부 -->
    visible="true"         <!-- 행 표시 여부 -->
    highlight="Success"    <!-- 강조 색상 (Success, Error 등) -->
    press="onPress"        <!-- 행 클릭 이벤트 -->
>
```
</br>
</br>

### 2) `sap.ui.table.Table`
- 대량의 데이터를 다루는 관리자용 화면이나 복잡한 그리드에 사용
- 몇 번째 줄인지 번호를 먼저 알아내서 데이터를 찾아와야 함(Index 기반 접근)
</br>

**1. `oEvent` 을 활용하는 경우 (이벤트 발생 시)**
```java
// [1] 가장 권장: 클릭된 행의 주소(Context)에서 바로 데이터 추출
let oData = oEvent.getParameter("rowContext").getObject();

// [2] 클릭된 행 번호(rowIndex)를 얻은 후 소스(테이블)에서 데이터 추출
let oData = oEvent.getSource().getContextByIndex(oEvent.getParameter("rowIndex")).getObject();

// [3] 이벤트 소스(테이블 자신)의 현재 선택된 인덱스(대표 번호)로 추출
let oData = oEvent.getSource().getContextByIndex(oEvent.getSource().getSelectedIndex()).getObject();

// [4] 파라미터 묶음 전체(getParameters)를 통해 rowContext 접근
let oData = oEvent.getParameters().rowContext.getObject();
```

**2. 테이블 ID(`this.byId`)를 직접 활용하는 경우 (어디서든 가능)**
```java
// [5] 테이블 ID로 접근하여 현재 선택된 인덱스(대표 번호)로 추출
let oData = this.byId("idEmployeeTable").getContextByIndex(this.byId("idEmployeeTable").getSelectedIndex()).getObject();

// [6] 선택된 모든 인덱스 배열(Indices) 중 첫 번째[0] 번호로 추출
let oData = this.byId("idEmployeeTable").getContextByIndex(this.byId("idEmployeeTable").getSelectedIndices()[0]).getObject();

// [7] 테이블의 경로(Path)를 알아낸 뒤 모델(Model)에서 직접 데이터 읽기
let oTable = this.byId("idEmployeeTable");
let sPath = oTable.getContextByIndex(oTable.getSelectedIndex()).getPath();
let oData = oTable.getModel().getProperty(sPath);
```

**3. 행(Row) 안에 심어둔 버튼을 눌렀을 때**
```java
// [8] 버튼 자체의 바인딩 컨텍스트(주소)에서 바로 데이터 추출
let oData = oEvent.getSource().getBindingContext().getObject();

// [9] 버튼의 부모(Row) 객체를 찾아가서 그 행의 데이터를 추출
let oData = oEvent.getSource().getParent().getBindingContext().getObject();

// [10] 버튼이 속한 모델과 경로(Path) 정보를 조합하여 데이터 추출
let oBtnSource = oEvent.getSource();
let oData = oBtnSource.getModel().getProperty(oBtnSource.getBindingContext().getPath());
```
</br>

**- xml 파일에서의 속성 정리**
```html
<t:Table
    id="idAdminTable"

    width="100%"                     <!-- 테이블 전체 너비 -->
    visible="true"                   <!-- 표시 여부 -->

    rows="{/ProductCollection}"      <!-- 데이터 바인딩 (items 아님, rows 사용!) -->

    visibleRowCount="10"             <!-- 화면에 보이는 행 개수 -->
    visibleRowCountMode="Fixed"      <!-- Fixed / Auto / Interactive -->

    firstVisibleRow="0"              <!-- 시작 행 인덱스 -->

    rowHeight="40"                   <!-- 행 높이 -->
    columnHeaderHeight="40"          <!-- 헤더 높이 -->

    selectionMode="MultiToggle"      <!-- None / Single / Multi / MultiToggle -->
    selectionBehavior="Row"          <!-- Row / RowOnly / RowSelector -->

    enableSelectAll="true"           <!-- 전체 선택 체크박스 표시 -->

    enableColumnReordering="true"    <!-- 컬럼 순서 변경 가능 -->
    enableSorting="true"             <!-- 정렬 기능 활성화 -->
    enableFiltering="true"           <!-- 필터 기능 활성화 -->
    enableColumnFreeze="true"        <!-- 컬럼 고정 가능 -->

    fixedColumnCount="1"             <!-- 고정 컬럼 개수 -->
    fixedRowCount="1"                <!-- 상단 고정 행 개수 -->
    fixedBottomRowCount="1"          <!-- 하단 고정 행 개수 -->

    showNoData="true"                <!-- 데이터 없을 때 표시 -->
    noData="데이터 없음"             <!-- 커스텀 메시지 -->

    alternateRowColors="true"        <!-- 줄무늬 배경 -->

    editable="false"                 <!-- 편집 가능 여부 -->

    rowSelectionChange="onRowSelect" <!-- 행 선택 이벤트 -->
    cellClick="onCellClick"          <!-- 셀 클릭 이벤트 -->
    sort="onSort"                    <!-- 정렬 이벤트 -->
    filter="onFilter"                <!-- 필터 이벤트 -->
    columnMove="onColumnMove"        <!-- 컬럼 이동 이벤트 -->
>
```
```html
<t:Column
    width="200px"                  <!-- 컬럼 너비 -->
    visible="true"                 <!-- 표시 여부 -->

    sortProperty="Name"            <!-- 정렬 기준 필드 -->
    filterProperty="Name"          <!-- 필터 기준 필드 -->

    filtered="false"               <!-- 필터 적용 여부 -->
    sorted="false"                 <!-- 정렬 적용 여부 -->
    sortOrder="Ascending"          <!-- Ascending / Descending -->

    hAlign="Center"                <!-- 정렬 -->
    resizable="true"               <!-- 크기 조절 가능 -->
    autoResizable="true"           <!-- 자동 크기 조절 -->

    showFilterMenuEntry="true"     <!-- 필터 메뉴 표시 -->
>
    <m:Label text="Name"/>         <!-- 헤더 -->
    <t:template>
        <m:Text text="{Name}"/>    <!-- 셀 템플릿 -->
    </t:template>
</t:Column>
```
</br>
</br>
</br>

## 4) oEvent 파라미터 정리 
</br>

### 1) 입력 및 검색 관련 (Text/Value)
- 사용자가 직접 타이핑하거나 검색할 때 씀
```java
// [Input] 값이 변경되었을 때
let sValue = oEvent.getParameter("value");        // 현재 입력된 값
let sNewValue = oEvent.getParameter("newValue");  // 새로 바뀐 값

// [SearchField] 검색어를 입력하고 엔터/돋보기를 눌렀을 때
let sQuery = oEvent.getParameter("query");        // 입력한 검색어

// [DatePicker] 날짜를 선택했을 때
let sDateValue = oEvent.getParameter("value");    // 선택된 날짜 문자열
let bValid = oEvent.getParameter("valid");        // 입력한 날짜가 유효한지(T/F)
```
</br>

### 2) 항목 및 행 선택 관련 (Item/Context)
- 목록이나 테이블에서 무언가를 골랐을 때 씀
```java
// [Select / ComboBox] 드롭다운에서 항목을 골랐을 때
let oItem = oEvent.getParameter("selectedItem");  // 선택된 아이템 객체 전체

// [m.table / List] 테이블의 줄(Row)을 클릭했을 때
let oListItem = oEvent.getParameter("listItem");  // 클릭된 행 객체

// [ui.table] 테이블의 행을 클릭했을 때
let oRowContext = oEvent.getParameter("rowContext"); // 선택된 행의 데이터 주소
let iRowIndex = oEvent.getParameter("rowIndex");     // 선택된 행의 번호
```
</br>

### 3) 상태 체크 관련 (Boolean)
- 체크박스나 스위치처럼 켰다 껐다 하는 상태를 확인할 때 씀
```java
// [CheckBox / RadioButton] 체크 상태가 변했을 때
let bSelected = oEvent.getParameter("selected"); // 체크됨(true) / 해제됨(false)

// [Switch] 스위치를 밀어서 변경했을 때
let bState = oEvent.getParameter("state");       // On(true) / Off(false)

// [ToggleButton] 눌린 상태를 유지하는 버튼일 때
let bPressed = oEvent.getParameter("pressed");   // 눌림(true) / 안눌림(false)
```
</br>

### 4) 탭 및 메뉴 이동 관련 (Key/ID)
- 상단 탭이나 사이드 메뉴를 클릭했을 때 씀
```java
// [IconTabBar] 상단 탭을 클릭했을 때
let sKey = oEvent.getParameter("key");            // 클릭한 탭의 고유 키값
let oTabItem = oEvent.getParameter("item");       // 클릭한 탭 객체 전체

// [SideNavigation] 왼쪽 메뉴를 클릭했을 때
let oNavItem = oEvent.getParameter("item");       // 클릭한 메뉴 아이템 객체
```
</br>
</br>
</br>
</br>

## 5) console.log를 활용한 탐색법 
</br>

### 1) `oEvent.getParameters()` 의 모든 내용 확인하기 (getParameters)
- 이벤트 핸들러 맨 첫 줄에 아래 코드를 넣기
- 콘솔에 찍힌 oItem을 클릭해 펼친 뒤, 맨 아래 `[[Prototype]]`을 계속 열기
- 알파벳 순서로 `getKey()`, `getText()` 같은 사용 가능한 함수들이 숨어 있음
```java
onSelectChange: function(oEvent) {
    // A. 현재 이벤트가 줄 수 있는 모든 파라미터 명단 확인
    console.log(oEvent.getParameters()); 
    // 출력 결과 예: { selectedItem: c, id: "..." } -> 여기서 "selectedItem"이라는 이름을 확인!

    // B. 특정 객체(항목)를 변수에 담고 구조 확인
    let oItem = oEvent.getParameter("selectedItem");
    console.log(oItem); 
    
    // C. (꿀팁) log 대신 dir을 쓰면 함수 목록을 더 쉽게 찾음
    console.dir(oItem); 
}
```
</br>

### 2) `oEvent.getSource()` 의 모든 내용 확인하기
- 이 이벤트를 일으킨 컨트롤(버튼, 셀렉트, 인풋 등) 자체가 어떤 함수를 가졌는지 궁금할 때 사용
- `oSelect.getSelectedKey()` 처럼 해당 컨트롤에만 특화된 "필살기 함수"를 찾을 때 유용
```java
onSelectChange: function(oEvent) {
    // A. 이 이벤트를 일으킨 주인공(Select 박스)을 소환
    let oSelect = oEvent.getSource(); 

    // B. 이 컨트롤이 가진 모든 정보와 함수 리스트를 콘솔에 출력
    console.dir(oSelect); 
    
    // C. 맨 아래 [[Prototype]]을 열어보면 'getSelectedKey', 'setEditable' 등이 나열되어 있음
    console.log("아이디 확인:", oSelect.getId());
}
```
</br>

### 3) this.byId() 로 특정 컨트롤 직접 찍어보기
```java
onAnyEvent: function(oEvent) {
    // A. 내가 조작하고 싶은 다른 컨트롤을 ID로 가져오기
    let oInput = this.byId("idInputName");

    // B. 가져온 객체가 맞는지, 어떤 함수가 있는지 확인
    console.log(oInput);
    console.dir(oInput);

    // C. 보통 'set'으로 시작하는 함수를 찾으면 컨트롤을 내 마음대로 바꿀 수 있음
    // 예: oInput.setEditable(false); (입력창 잠그기)
}
```
</br>
</br>
</br>
</br>

## 6) 라우팅(Routing)
</br>

### 1) 1단계: manifest.json 설정 (길 찾기 지도)
