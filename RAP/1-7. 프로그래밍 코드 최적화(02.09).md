## <  핵심 개념 >
- **1) ODataModel은 `getData()` / `getDate()` 같은 직접 접근 불가이고, 데이터는 `read()` 콜백이나 바인딩된 컨텍스트(`getBindingContext().getProperty()`)로만 가져올 수 있음**
- **2) `read()` 는 ODataModel만 가능, JSONModel은 `setData/getData` 로 직접 다룸**
- **3) `content aggregation` 은 하나만 가능해서 여러 컨트롤 쓰려면 `VBox` 같은 컨테이너로 감싸야 함**
- **4) `GET_ENTITY` / `GET_ENTITYSET` 은 read 호출할 때만 의미 있음**

</br>
</br>

---

</br>

## < 추가적인 내용 >
</br>

- 외부(OData) 호출로 실행되는 DPC_EXT 메소드 디버깅을 위해 External Breakpoint 설정
- 오른쪽 마우스 클릭으로 설정 가능
<img width="523" height="323" alt="image" src="https://github.com/user-attachments/assets/26704ad0-f422-4243-8533-f5264f80e8d7" />
</br>
</br>
</br>

- `GET`: FilterOperator.EQ 조건으로 특정 필드 값이 정확히 일치하는 데이터만 조회하는 OData 필터 조건
<img width="752" height="404" alt="image" src="https://github.com/user-attachments/assets/7fe1ff26-aaf6-4bc6-a118-8e7a29b51ed8" />
</br>
</br>
</br>

- `sap.ui.model.odata.v2.ODataModel` 로 검색하면 OData CRUD(Create/Read/Update/Delete) 메소드들을 한 번에 확인할 수 있음
<img width="614" height="347" alt="image" src="https://github.com/user-attachments/assets/ce95e16e-be58-4fc0-b8e5-290b2d333fbe" />
</br>
</br>
</br>

---

</br>

## < sap.ui.model.odata.v2.ODataModel CRUD 메서드 정리 >
</br>

### 1) Create
- `ZCL_ZCODE_PERSON2_MPC=>TS_PERSON` : 화면에서 보내는 Person 데이터 구조
- `io_data_provider->read_entry_data` : 화면 입력값을 ABAP 변수로 읽어옴
- `er_entity` : 저장 결과를 화면으로 다시 전달
```abap
" ZCL_ZCODE_PERSON2_DPC_EXT : PERSONSET_CREATE_ENTITY
  method PERSONSET_CREATE_ENTITY.
    DATA: ls_entity TYPE ZCL_ZCODE_PERSON2_mpc=>ts_person,
          ls_data   TYPE zcl2person.

    io_data_provider->read_entry_data(
      IMPORTING es_data = ls_entity
    ).
    CHECK sy-subrc = 0.
    MOVE-CORRESPONDING ls_entity TO ls_data.

    INSERT zcl2person FROM ls_data.

    IF sy-subrc = 0.
      MOVE ls_entity TO er_entity.
    ENDIF.
  endmethod.
```
- SAP Gateway Client에서 POST(Create) 요청으로 JSON 데이터를 보내고, DB에 저장된 결과가 OData 응답으로 그대로 반환되는 화면
  
<img width="632" height="366" alt="image" src="https://github.com/user-attachments/assets/cf01e657-90d9-49c0-a80f-11526fff16d4" />
</br>
</br>
</br>
