# 11/03(화) 기록
# chart 생성 - view 버전
### 1) `<viz:VizFrame>`
- 차트를 그리는 핵심 컨트롤
- `<Page>`나 `<Panel>` 안에 배치, 내부에 `<dataset>`와 `<feeds>` 포함
- 속성:
  - `vizType` : 차트 종류 (`line`, `bar`, `donut` 등)
  - `vizProperties` : 제목, 레이블 등 차트 속성 설정
  - `uiConfig` : Fiori UI 스타일 적용
  - `width/height` : 차트 크기 지정
```html
<viz:VizFrame 
    id="idViewChart"
    width="300px"
    height="300px"
    vizType="donut"
    uiConfig="{'applicationSet':'fiori'}"
    vizProperties="{
        title : { visible : true, text : 'My Chart' },
        plotArea : {
            drawingEffect: 'glowsy',
            dataLabel: { visible: true },
            colorPalette: ['#FAED7D', '#FFB2D9', '#FFC19E']
        }
    }">
```
</br>

### 2) `<viz:dataset>` + `<FlattenedDataset>`
- 차트에 표시할 데이터 집합을 정의
- 이 안에서 dimensions와 measures를 정의하여 차트에 어떤 데이터를 표시할지 결정
- `<VizFrame>` 내부에 배치
- 속성:
  - `data="{view>/list}"` : JSONModel(view)의 list 배열 데이터를 바인딩
```html
<viz:dataset>
    <viz.data:FlattenedDataset data="{view>/list}">
        <!-- 차원/측정값 정의 -->
    </viz.data:FlattenedDataset>
</viz:dataset>
```
</br>

### 3-1) `<viz.data:dimensions>`
- 차트의 범주(Category) 역할, X축이나 색상 구분에 사용
- 여러 개 정의 가능, 도넛 차트에서는 색상을 구분하는 기준이 되기도 함
- `<FlattenedDataset>` 안에 배치
- 속성:
  - `name` : 차트에서 표시될 항목 이름(예: "이름")
  - `value` : 모델 필드와 연결 (`{view>name}`)
```html
<viz.data:dimensions>
    <viz.data:DimensionDefinition 
        name="이름" 
        value="{view>name}" />
</viz.data:dimensions>
```
</br>

### 3-2) `<viz.data:measures>`
- 차트의 값(Value) 역할, Y축 또는 크기에 사용
- 여러 개 정의 가능, 도넛 차트에서는 조각의 크기를 결정
- `<FlattenedDataset>` 안에 배치
- 속성:
  - `name` : 차트에서 표시될 값 이름(예: "숫자")
  - `value` : 모델 필드와 연결 ({view>rate})
```html
<viz.data:measures>
    <viz.data:MeasureDefinition 
        name="숫자" 
        value="{view>rate}" />
</viz.data:measures>
```
 </br>

### 4) `<viz:feeds>` + `<viz.feeds:FeedItem>`
- 차트 데이터와 시각적 요소를 연결
- 도넛/파이 차트는 color(조각 색상)와 size(조각 크기)
- 막대/라인 차트는 CategoryAxi와 valueAxis 사용
- `<VizFrame>` 내부에 배치
- 속성:
  - `uid` : 차트에서 피드 역할 지정 (color, size, categoryAxis, valueAxis 등)
  - `type` : Dimension 또는 Measure 지정
  - `values` : 매핑할 데이터 이름(Dimension/Measure에서 정의한 name)
```html
<viz:feeds>
    <viz.feeds:FeedItem 
        uid="color" 
        type="Dimension" 
        values="이름" />
    <viz.feeds:FeedItem 
        uid="size" 
        type="Measure" 
        values="숫자" />
</viz:feeds>
```
</br>

---

# chart 생성 - controller 버전
### 1) FlattenedDataset
- VizFrame(차트)에 바인딩할 데이터 구조 정의
- `dimension` → X축 / 분류 기준 (예: 제품명)
- `measures` → Y축 / 수치 값 (예: 매출, 수량)
- `data.path` → 모델의 데이터 경로
```java
let oDataset = new FlattenedDataset({
    dimensions: [
        { name: "차원이름", value: "{모델명>필드명}" }
    ],
    measures: [
        { name: "측정값이름", value: "{모델명>필드명}" }
    ],
    data: { path: "모델명>/데이터경로" }
});
```
```java
let oDataSet = new FlattenedDataset({
    dimensions: [{ name: "Product", value: "{cont>product}" }],
    measures: [{ name: "Amount", value: "{cont>amount}" }],
    data: { path: "cont>/sales" }
});
```
</br>

### 2) FeedItem
- VizFrame 차트에서 데이터와 시각적 요소(축, 색상 등) 를 연결하는 역할
- FeedItem 여러 개를 추가할 수 있음
```java
let oFeed = new FeedItem({
    uid: "feed유형",      // 예: valueAxis, categoryAxis, color, size
    type: "Dimension" or "Measure",
    values: ["데이터이름"]
});
```
