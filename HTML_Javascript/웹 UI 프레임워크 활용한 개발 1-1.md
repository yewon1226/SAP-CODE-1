# 10/23 기록
# 웹 UI 프레임워크 활용한 개발 1-1
- Fiori :  SAP 디자인 가이드라인
- Fiori Launchpad : SAP의 통합 대시보드 환경. 여러 개의 SAP UI5 앱을 한 화면에서 실행 가능.
- UI5 : SAP가 권장하는 최적의 UI Application을 만들 수 있는 Javascript 프레임워크 (내부 구조는 JS + XML + JSON)

* 참고 사이트 : UI5 SDK 사이트(UI5 API 사이트), SAP BTP Trial 사이트
* https://<host>:<port>/sap/public/bc/ui5_ui5/index.html
</br>

### UI5 종류
- SAPUI5 : SAP 내부 시스템 전용 (SAP BTP 등에서 사용)
- OpenUI5 : 오픈소스 버전 (무료로 사용 가능)
</br>

### MVC 패턴 구조
- UI5는 세 가지 구조로 나뉨. UI5는 다양한 브라우저에서 지원.
- View : 사용자 UI (XML, HTML, JS로 정의 가능)
- Controller : View의 동작 제어 (이벤트 처리, 로직 구현)
- Model : 데이터 관리 및 CRUD 처리 (JSON, oData)
</br>

### SAP에서 주로 사용되는 라이브러리
- sap.m
- sap.ui.comp
- sap.ui.table
- sap.ui.layout
- sap.ui.core
</br>

### SAP 개발 환경
- SAP Business Application Studio (BAS) : 클라우드 기반 IDE (SAP 공식 개발 환경)
- Visual Studio Code : 로컬 개발 시 많이 사용
</br>

### 터미널 실행절차
```bash
터미널

cd 프로젝트명              # 경로 맞추기
cd ..                      # 뒤로가기

프로젝트명> npm install    # 설치 완료되면 node_modules 폴더가 생김
프로젝트명> npm run satrt  # 서버 실
```
</br>

### index.html 파일
- SAP UI5 프레임워크의 핵심(JavaScript) 라이브러리를 불러오는 코드
- data-sap-ui-resource-roots : 앱의 네임스페이스(sap.ui5.yui5project01)는 실제 파일 경로상에서는 현재 폴더(./)에 있음
- data-sap-ui-resource-roots 가 없으면, UI5가 Controller, View, Component.js 파일의 실제 경로를 찾지 못해 앱이 실행되지 않
```html
<script
        id="sap-ui-bootstrap"
        src="resources/sap-ui-core.js"
        data-sap-ui-theme="sap_horizon"
        data-sap-ui-resource-roots='{
            "sap.ui5.yui5project01": "./"      <!-- NameSpace.project 이름, ./ : 현재위치 -->
        }'
        data-sap-ui-on-init="module:sap/ui/core/ComponentSupport"
        data-sap-ui-compat-version="edge"
        data-sap-ui-async="true"
        data-sap-ui-frame-options="trusted"
    ></script>
```
</br>

### UI5 실행 순서
- Component.js, index.html, manifest.json은 설정 파일 (프로젝트 구동 시 필요한 파일들. App 초기 설정을 담당.)
- SAPUI5 실행 순서 : index.html -> Component.js -> manifest.json -> App.view.xml (rootview에 의해) -> App.controller.js (controllername에 의해) -> Main.view.xml -> Main.controller.js
- manifest.json 안의 "sap.ui5": { "rootView": { ... } } 부분이 앱의 첫 화면을 결정함. 이후 모든 View 전환은 Routing(routing.config)으로 관리.
- view.xml, controller.js : 확장자(확장자는 전부 소문자)
</br>

### View & Controller (MVC 연결)
- Main.view.xml 파일
- ns : namespace
- View 파일명은 반드시 대문자로 시작 (Main.view.xml)
- Controller 파일명은 반드시 같은 이름의 .controller.js
```html
<mvc:View controllerName="sap.ui5.yui5project01.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"   <!-- :mvc => 별칭. 다른 namespace를 추가하고 싶을 때 사용. -->
    xmlns="sap.m">                <!-- 기본 namespace(1개): sap.m 라이브러리 사용 -->
    <Page id="page" title="{i18n>title}">
    </Page>
</mvc:View>


<!-- 기본 namespace 바꾸고 싶을 때 -->
<View controllerName="sap.ui5.yui5project01.controller.Main"
    xmlns="sap.ui.core.mvc"  
    xmlns:m="sap.m">               
    <m:Page id="page" title="{i18n>title}">
            <!-- 이런식으로 m:과 같이 태그에 붙여줘야함 -->
    </m:Page>
</View>
```

