# 10/31 ê¸°ë¡
### node_modules ì‚­ì œ í›„ ë‹¤ì‹œ ì‹¤í–‰
- í„°ë¯¸ë„ ê²½ë¡œë¥¼ í•´ë‹¹ í”„ë¡œì íŠ¸ ê²½ë¡œë¡œ ë§ì¶°ì£¼ê¸°
- cd ì´ìš©
- npm install
- ì‹¤í–‰
</br>

### this.byId()
- Viewì— ì •ì˜ëœ ì»¨íŠ¸ë¡¤ì„ IDë¡œ ì°¾ì•„ì„œ ë°˜í™˜
```java
let oTable = this.byId("idCustomers2");
oTable.addItem(new sap.m.ColumnListItem()); // í…Œì´ë¸”ì— í–‰ ì¶”ê°€ ê°€ëŠ¥
```
</br>

### getSelectedItem()
- ë¦¬ìŠ¤íŠ¸ë‚˜ í…Œì´ë¸”ì—ì„œ í˜„ì¬ ì„ íƒëœ í•­ëª©ì„ ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œ
```java
let oRow = oTable.getSelectedItem();
if (!oRow) {
    sap.m.MessageToast.show("ì„ íƒëœ ê³ ê°ì´ ì—†ìŠµë‹ˆë‹¤.");
    return;
}
```
</br>

### getBindingContext()
- í•´ë‹¹ ì•„ì´í…œ(oRow)ì´ ë°”ì¸ë”©ëœ ëª¨ë¸ì˜ ì»¨í…ìŠ¤íŠ¸(Context) ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
- ContextëŠ” ëª¨ë¸ ë‚´ì—ì„œ ì´ í–‰ì´ ì°¸ì¡°í•˜ëŠ” ê²½ë¡œ(Path) ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµ
```java
let oBindingContext = oRow.getBindingContext("customer");
// ì˜ˆ: sPath = "/Customers/3"
let sPath = oBindingContext.getPath();
```
</br>

### getBinding()
- íŠ¹ì • UI ì»¨íŠ¸ë¡¤ì´ ê°€ì§€ê³  ìˆëŠ” Aggregation(ì§‘í•©)ì´ ì–´ë–¤ ë°ì´í„°ì™€ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜
```java
getBinding("aggregationName")
``
```java
this.byId("idProductsTable").getBinding("items").filter(aFilter);
this.byId("idProductsTable").getBinding("items").sort(aSorter);
```
</br>

### < ì˜ˆì œ 1 >
```java
onReadBooking: function(oEvent) {
      let table = this.byId("idCustomers2");  // this.byId ì‚¬ìš©í•´ì„œ Customers í…Œì´ë¸” ê°€ì ¸ì˜¤ê¸°
      let oRow = table.getSelectedItem();     // í˜„ì¬ ì„ íƒí•œ ì•„ì´í…œ ì •ë³´ ë“¤ì–´ì˜´   

      let oBindingContext = oRow.getBindingContext("customer");
      let sPath = oBindingContext.getPath();
      let oCustomer = this.getView().getModel("customer").getProperty(sPath);

      let oBookingModel = this.getView().getModel("booking");
      oBookingModel.setProperty("/result", oCustomer._Bookings);
}
```
</br>

### oEvent.getParameter("value") ì™€ this.byId("idSomething")
- view.xml íŒŒì¼
```html
<Input id="idInput" placeholder="ì´ë¦„ ì…ë ¥" change=".onInputChange" />
<Button text="ì´ë¦„ ì½ê¸° (byId)" press=".onReadInputValue" />
```
- controller.js íŒŒì¼
```java
onInputChange: function (oEvent) {
    // ğŸ‘‰ ë°©ë²• â‘  ì´ë²¤íŠ¸ë¡œë¶€í„° ê°’ ê°€ì ¸ì˜¤ê¸°
    let sValue = oEvent.getParameter("value");
    console.log("ì´ë²¤íŠ¸ ë°©ì‹:", sValue);
},

onReadInputValue: function () {
    // ğŸ‘‰ ë°©ë²• â‘¡ ì»¨íŠ¸ë¡¤ ì§ì ‘ ì ‘ê·¼í•´ì„œ ê°’ ê°€ì ¸ì˜¤ê¸°
    let sValue = this.byId("idInput").getValue();
    console.log("byId ë°©ì‹:", sValue);
}
```
</br>

### OData ë°ì´í„° êµ¬ì¡° ê°œë…
- ì „ì—­ëª¨ë¸
<img width="521" height="322" alt="image" src="https://github.com/user-attachments/assets/9c232c0e-eca7-4dac-9a7b-e30c8d8132f4" />
</br>
</br>
</br>

- EntitySet = ì „ì²´ ì»¬ë ‰ì…˜
- Entity = í•œ ê±´ì˜ ë°ì´í„°
- Complex Type (a) = Entity ì•ˆì˜ ê°ì²´ í•„ë“œ
- EntityType ì†ì„± = ê°ì²´ ì•ˆì˜ ì‹¤ì œ ê°’
```
EntitySet      â†’ ì „ì²´ ë°°ì—´ (ì „ì²´ ë°ì´í„° ì„¸íŠ¸)
 â”” Entity      â†’ ë°°ì—´ ì•ˆì˜ í•˜ë‚˜ì˜ ë ˆì½”ë“œ
     â”” a       â†’ ê°ì²´(Complex Type)
         â”” Field â†’ EntityType ì†ì„± (ì‹¤ì œ ê°’)
```
```java
let entities = this.getView().getModel("model").getProperty("/EntitySet"); // ë°°ì—´
let entity = entities[0];      // ì²« ë²ˆì§¸ Entity
let a = entity.a;              // Complex Type
let fieldValue = a.Field;      // ì†ì„± ê°’
```
</br>

### filters
- í…Œì´ë¸”ì´ë‚˜ ë¦¬ìŠ¤íŠ¸ì˜ ë°ì´í„° ì¤‘ ì¡°ê±´ì— ë§ëŠ” í•­ëª©ë§Œ í‘œì‹œ
- ì¡°ê±´ì€ FilterOperatorë¡œ ì§€ì •
- EQëŠ” ê°™ë‹¤, NEëŠ” ë‹¤ë¥´ë‹¤, GTëŠ” ë³´ë‹¤ í¬ë‹¤, GEëŠ” í¬ê±°ë‚˜ ê°™ë‹¤, LTëŠ” ë³´ë‹¤ ì‘ë‹¤, LEëŠ” ì‘ê±°ë‚˜ ê°™ë‹¤, BTëŠ” ë‘ ê°’ ì‚¬ì´, ContainsëŠ” ë¬¸ìì—´ í¬í•¨
</br>

- controller.js íŒŒì¼
```java
new Filter(
    sPath,               // í•„ë“œ ì´ë¦„ (ì˜ˆ: "ProductName")
    sOperator,           // ì—°ì‚°ì (FilterOperator.EQ, Contains ë“±)
    vValue1,             // ê°’1
    vValue2 (ì˜µì…˜)       // ê°’2 (BT ì‚¬ìš© ì‹œ)
)
```
```java
let aFilters = [
    new Filter("ProductName", FilterOperator.Contains, "Queso"),
    new Filter({
        path: "UnitsInStock",
        operator: FilterOperator.BT,
        value1: 10,
        value2: 100
    })
];
```
</br>

- view.xml íŒŒì¼
```html
items="{
    path: '<ëª¨ë¸ëª…>><EntitySet>',
    filters: [
        { path: '<í•„ë“œëª…>', operator: '<ì—°ì‚°ì>', value1: '<ê°’>', value2: '<ê°’2(ì˜µì…˜)>' },
        ...
    ]
}"
```
```html
<Table id="idProductsTable" items="{
    path: 'product>/Products',
    filters: [
        { path: 'ProductName', operator: 'Contains', value1: 'Queso' },
        { path: 'UnitsInStock', operator: 'BT', value1: 10, value2: 100 }
    ]
}">
    <columns>
        <Column><Text text="Product Name"/></Column>
        <Column><Text text="Units In Stock"/></Column>
    </columns>
    <items>
        <ColumnListItem>
            <cells>
                <Text text="{product>ProductName}"/>
                <Text text="{product>UnitsInStock}"/>
            </cells>
        </ColumnListItem>
    </items>
</Table>
```
</br>
</br>

### sorter
- í…Œì´ë¸”ì´ë‚˜ ë¦¬ìŠ¤íŠ¸ì˜ ë°ì´í„°ë¥¼ íŠ¹ì • í•„ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬
- true â†’ ë‚´ë¦¼ì°¨ìˆœ(descending), false â†’ ì˜¤ë¦„ì°¨ìˆœ(ascending)
</br>

- controller.js íŒŒì¼
```java
new Sorter(
    sPath,        // ì •ë ¬í•  í•„ë“œ ì´ë¦„ (ì˜ˆ: "SupplierID")
    bDescending   // true: ë‚´ë¦¼ì°¨ìˆœ, false: ì˜¤ë¦„ì°¨ìˆœ
)
```
```java
let aSorters = [
    new Sorter("SupplierID", true),   // SupplierID ë‚´ë¦¼ì°¨ìˆœ
    new Sorter("UnitsInStock", false) // UnitsInStock ì˜¤ë¦„ì°¨ìˆœ
];

// í…Œì´ë¸”ì— ì ìš©
let table = this.byId("idProductsTable");
table.getBinding("items").sort(aSorters);
```
</br>

- view.xml íŒŒì¼
```html
<Table
    id="idProductsTable"
    items="{
        path: '<ëª¨ë¸ëª…>><EntitySet>',
        sorter: [
            { path: '<í•„ë“œëª…1>', descending: true/false },
            { path: '<í•„ë“œëª…2>', descending: true/false }
        ]
    }"
>
    <columns>
        <Column><Text text="ì»¬ëŸ¼1"/></Column>
        <Column><Text text="ì»¬ëŸ¼2"/></Column>
    </columns>

    <items>
        <ColumnListItem>
            <cells>
                <Text text="{<ëª¨ë¸ëª…>><í•„ë“œëª…1>}"/>
                <Text text="{<ëª¨ë¸ëª…>><í•„ë“œëª…2>}"/>
            </cells>
        </ColumnListItem>
    </items>
</Table>
```
```html
<Table id="idProductsTable" items="{
    path: 'product>/Products',
    sorter: [
        { path: 'SupplierID', descending: true },
        { path: 'UnitsInStock', descending: false }
    ]
}">
    <columns>
        <Column><Text text="Supplier ID"/></Column>
        <Column><Text text="Units In Stock"/></Column>
    </columns>
    <items>
        <ColumnListItem>
            <cells>
                <Text text="{product>SupplierID}"/>
                <Text text="{product>UnitsInStock}"/>
            </cells>
        </ColumnListItem>
    </items>
</Table>
```
